---
title: "В Ubuntu 18.04 LTS решено вернуть по умолчанию сеанс на основе X.Org"
date: "2018-01-27"
---

Предлагаю обсудить новость, что Ubuntu 18.04 по умолчанию будет использовать Xorg, а не Wayland.

#### Ubuntu LTS - не полигон для испытаний. 

Несмотря на то, что в выпуске Ubuntu 17.10 на системах где это возможно по умолчанию предлагался сеанс GNOME на базе Wayland, в весеннем LTS-релизе Ubuntu 18.04 решено вернуться к использованию традиционного графического стека на основе X.Org Server.

Сеанс на основе Wayland останется доступен, но будет предлагаться в качестве опции. В осеннем выпуске Ubuntu 18.10 сеанс на базе Wayland вновь будет предложен по умолчанию.

Поставка Wayland по умолчанию в Ubuntu 17.10 стала своеобразным полигоном для проверки нового решения, перед тем как использовать его в LTS-выпуске, время поддержки которого составляет пять лет.

Подобный шаг позволил выявить ряд проблем, специфичных при работе GNOME поверх Wayland. Данные проблемы важны для ограниченной категории пользователей и со временем будут устранены, но до выпуска Ubuntu 18.04 осталось всего три месяца, и у разработчиков не хватает времени для реализации, стабилизации и качественного тестирования недостающей функциональности.

#### Сильные стороны X.Org при использовании GNOME.

Выделяются три сильные стороны использования GNOME на базе X.Org, недоступные в сеансе на базе Wayland:

- Поддержка предоставления совместного доступа к экрану (Screen sharing) в коммуникационных клиентах на базе WebRTC и приложениях, подобных Google Hangouts и Skype;
- Наличие полноценного инструментария для удалённого доступа к рабочему столу, такого как решения на базе RDP и VNC;
- Более качественная организация восстановления сеанса после краха GNOME Shell.

Проблемы с обеспечением совместного доступа к экрану и удалённым доступом к рабочему столу планируется решить внедрением мультимедийного сервера PipeWire и расширением протокола Wayland, но данная работа требует дополнительного времени на разработку и обеспечения поддержки в приложениях. Третья проблема касается урегулирования внештатных ситуаций при работе поверх Wayland.

В случае краха GNOME Shell при работе Mutter в роли композитного сервера Wayland, GNOME полностью закрывает сеанс, принудительно завершает все связанные с ним приложения и выводит экран входа в систему.

При использовании X.Org имеется возможность отдельно перезапустить GNOME Shell, независимо от дисплейного сервера и не трогая запущенные приложения, т.е. после краха GNOME Shell работающие программы не будут закрыты.

Для Wayland так поступить не получится, поэтому пока рассматриваются два варианта выхода из возникшего тупика: усиленная стабилизация кода для исключения крахов и изменение архитектуры. Оба варианта находятся в разработке, например изменение архитектуры развивается в рамках проекта GNOME Shell 4.

_Источник: [OpenNews](http://opennet.ru/opennews/art.shtml?num=47967)_

#### Не стоит паниковать.

Wayland будет предустановлен в системе Ubuntu 18.04. Но не будет выбран по умолчанию. Так как это всё-таки LTS версия, поэтому должна быть хоть какая-то стабильность. А как вы относитесь к этому сообщению от разработчиков Ubuntu?

